<?php
 class Query{function __construct(){}public static function all($a,$b=""){$c=Database::getIntance();$d=$c->query("select * from $a $b");$a=ucfirst(strtolower($a));$e=$d->fetchall(PDO::FETCH_CLASS,$a);$f=get_class_vars($a);foreach($f as $g=>$h){$i=ucfirst(strtolower($g));if(class_exists($i)){foreach($e as $j){$k=$j->$g;$d=$c->query("select * from ".(strtolower($i))." where id = ".$k);$j->$g=$d->fetchall(PDO::FETCH_CLASS,$i);}}}return $e;}public static function byId($a,$k,$b=""){$c=Database::getIntance();$d=$c->query("select * from $a where id = $k $b");$a=ucfirst(strtolower($a));$f=get_class_vars($a);$a=$d->fetchall(PDO::FETCH_CLASS,$a);return $a[0];}public static function byColumn($a,$l,$h,$b=""){$c=Database::getIntance();$b="select * from $a where $l = '$h' $b";$d=$c->query($b);$a=ucfirst(strtolower($a));$f=get_class_vars($a);if($d==null){return true;}else{$a=$d->fetchall(PDO::FETCH_CLASS,$a);if($a!=array()){return $a[0];}}}public static function byColumnAll($a,$l,$h,$b=""){$c=Database::getIntance();$b="select * from $a where $l = '$h' $b";$d=$c->query($b);$a=ucfirst(strtolower($a));$f=get_class_vars($a);if($d==null){return true;}else{$a=$d->fetchall(PDO::FETCH_CLASS,$a);if($a!=array()){return $a;}}}}?>