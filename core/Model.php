<?php
 class Model{function __construct(){}public static function create($a,$b=""){$c=Post::input($a);$a=ucfirst(strtolower($a));$d=get_class_vars($a);$a=new $a;$e=0;foreach($d as $f=>$g){if($e>0)if(isset($c[$f]))$a->$f=$c[$f];$e++;}if($b!="")$a->id=$b;return $a;}public static function save($a){$d=get_class_vars(get_class($a));$h=get_class($a);$h=strtolower($h);$j="INSERT INTO $h (";$e=0;foreach($d as $f=>$g){$j.="`$f`";if($e<count($d)-1)$j.=", ";$e++;}$j.=") VALUES  (";$e=0;foreach($d as $f=>$g){if($e==0)$j.="NULL,";if($e>0){if(is_int($a->$f))$j.=$a->$f;else if(gettype($a->$f)=="object")$j.=$a->$f->id;else $j.="'".$a->$f."'";if($e<count($d)-1)$j.=", ";}$e++;}$j.=")";$k=Database::getIntance();if($k->exec($j)!==false){$a->id=$k->lastInsertId();return true;}else{return false;}}public static function update($a){$d=get_class_vars(get_class($a));$h=get_class($a);$h=strtolower($h);$j="update $h set ";$e=0;foreach($d as $f=>$g){if($e>0){if(is_int($a->$f)){$j.="$f = $a -> $f";}else{$j.="$f ='".$a->$f."'";}if($e<count($d)-1){$j.=", ";}}$e++;}$j.=" where id= ".$a->id;$k=Database::getIntance();if($k->exec($j)!=false){return true;}else{return false;}}public static function delete($a){$d=get_class_vars(get_class($a));$h=get_class($a);$h=strtolower($h);$j="delete FROM  $h  where id= ".$a->id;$k=Database::getIntance();if($k->exec($j)!==false){return true;}else{return false;}}}?>